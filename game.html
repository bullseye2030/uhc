<!doctype HTML>

<html>
  <head>
    <meta charset="utf-8">
    
    <title>Cube UHC Stats</title>
    
    <link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.6/spacelab/bootstrap.min.css" rel="stylesheet" integrity="sha256-Ms+D/LmYu22BlovNARzPeE+n0PSOreOjj3aCsoHqi9o= sha512-OIJ6pwbyFgZ1r01HjgmF0MCHZstQ4L7n6nye+G2q/z8vvzG5On8s6fSFp3OkOVsYj+tVRNmWi8PYKTU3Fd4B7g==" crossorigin="anonymous">
  </head>
  
  <body>
    <nav class="navbar navbar-default navbar-static-top">
      <div class="container">
        <div class="navbar-header">
          <a class="navbar-brand" href="./">Cube UHC Stats</a>
        </div>
      </div>
    </nav>
    <div class="container">
      <h1><span id="name">Loading</span> <small id="season">info</small></h1>
      
      <table class="table">
        <thead>
          <tr>
            <th>#</th>
            <th>Player</th>
            <th>Cause of Death</th>
            <th>Kills</th>
          </tr>
        </thead>
        
        <tbody>
        
        </tbody>
      </table>
    </div>
  </body>
  
  <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
  <script>
    var gameInfo;
    
    function loadGame(id) {
      game = gameInfo[id];
      $("#name").text(game.name);
      $("#season").text("Season" + game.season);
      
      game.participants.forEach(function(p) {
        $("tbody").append("<tr><td>" + p.position + "</td><td>" + p.name + "</td><td>" + "?" + "</td><td>" + p.kills + "</td></tr>")
      });
    }
    
    $(function() {
      $.getJSON("stats.json", function(d) {
        gameInfo = d;
        if (window.location.search.substring(1).indexOf("gameID=") === 0) {
          loadGame(window.location.search.substring(8));
        } else {
          window.location.search.substring(0);
        }
      });
    });
  </script>
</html>
